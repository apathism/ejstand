$doctype 5
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>#{standingName}
        <link rel="stylesheet" href="#{webRoot}ejstand.css">
    <body>
        <h1>
            #{standingName}
        _{MsgAdditionalInformation}
        <table class="standing"> 
            <tr>
                $forall column <- standingColumns
                    #{columnCaption column}
                $forall maybeContest <- buildContestList standingSource standingProblems
                    $case maybeContest
                        $of (Nothing, cols)
                            <th class="contest" colspan="#{cols}" title="???">
                                ???
                        $of (Just contest@Contest{contestName}, cols)
                            <th colspan="#{cols}" class="contest" title="#{contestName}">
                                #{getShortContestName cfg contest}
            <tr>
                $forall Problem{problemShortName, problemLongName} <- standingProblems
                    <th class="problem" title="#{problemShortName}: #{problemLongName}">
                        #{problemShortName}
            $forall (place, row) <- enumerate standingRows
                <tr>
                    $forall column <- standingColumns
                        #{columnRowValue column place row}
                    $forall (problem, cell) <- fmap (getRowCellByProblem row) $ standingProblems
                        #{renderCell standing row problem cell}
            $case problemSuccesses
                $of (Just column)
                    #{column}
                $of Nothing
        <div class="footer">
            <p class="copyright">
                _{MsgPageGenerationTime "https://apathism.net/git/apathism/ejstand" getTextVersion}
            <p class="license">
                _{MsgEjStandLicense }
            <p class="third-party">
                _{MsgOtherLicenses (mconcat [webRoot, "credits.html"])}
